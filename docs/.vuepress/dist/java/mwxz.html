<!DOCTYPE html>
<html lang="zh-Ch">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.62">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/logo.jpg"><link rel="stylesheet" href="/styles/custom-prism-theme.css"><title>最爱吃炸鸡⭐️</title><meta name="description" content="喜欢写一些有趣的小玩意">
    <link rel="preload" href="/assets/style-d181b374.css" as="style"><link rel="stylesheet" href="/assets/style-d181b374.css">
    <link rel="modulepreload" href="/assets/app-58ca2cdc.js"><link rel="modulepreload" href="/assets/mwxz.html-0cea6d5f.js"><link rel="modulepreload" href="/assets/mwxz.html-625c1398.js"><link rel="prefetch" href="/assets/contribuing.html-fd2bea4f.js" as="script"><link rel="prefetch" href="/assets/index.html-71057962.js" as="script"><link rel="prefetch" href="/assets/action.html-c5eb1409.js" as="script"><link rel="prefetch" href="/assets/find.html-b15093bb.js" as="script"><link rel="prefetch" href="/assets/like.html-f5b3218f.js" as="script"><link rel="prefetch" href="/assets/note.html-83480e5b.js" as="script"><link rel="prefetch" href="/assets/plan.html-9e04cf1f.js" as="script"><link rel="prefetch" href="/assets/custom.html-97701c80.js" as="script"><link rel="prefetch" href="/assets/pra.html-3080a104.js" as="script"><link rel="prefetch" href="/assets/index.html-1952ed3f.js" as="script"><link rel="prefetch" href="/assets/exception.html-b5816d1c.js" as="script"><link rel="prefetch" href="/assets/echo.html-6004c96a.js" as="script"><link rel="prefetch" href="/assets/music.html-d1c24fbe.js" as="script"><link rel="prefetch" href="/assets/pdf.html-94a59350.js" as="script"><link rel="prefetch" href="/assets/zhsh.html-7b769595.js" as="script"><link rel="prefetch" href="/assets/html.html-96e06a53.js" as="script"><link rel="prefetch" href="/assets/java.html-5d6e3197.js" as="script"><link rel="prefetch" href="/assets/mysql.html-55ed9257.js" as="script"><link rel="prefetch" href="/assets/tools.html-cffe8a2b.js" as="script"><link rel="prefetch" href="/assets/manhua.html-0eea2e79.js" as="script"><link rel="prefetch" href="/assets/zhsh.html-6506e992.js" as="script"><link rel="prefetch" href="/assets/piancai.html-ab7aacee.js" as="script"><link rel="prefetch" href="/assets/pianyin.html-a4d29130.js" as="script"><link rel="prefetch" href="/assets/qisha.html-6603c3dd.js" as="script"><link rel="prefetch" href="/assets/rizhu.html-1f3251cb.js" as="script"><link rel="prefetch" href="/assets/shangguan.html-a6ea2a41.js" as="script"><link rel="prefetch" href="/assets/shensha.html-a4be0899.js" as="script"><link rel="prefetch" href="/assets/shishen.html-f19114af.js" as="script"><link rel="prefetch" href="/assets/top.html-698a1ef0.js" as="script"><link rel="prefetch" href="/assets/zhengcai.html-c7730cda.js" as="script"><link rel="prefetch" href="/assets/zhengguan.html-9ac60328.js" as="script"><link rel="prefetch" href="/assets/zhengyin.html-4f4b821a.js" as="script"><link rel="prefetch" href="/assets/shell.html-723e5fe5.js" as="script"><link rel="prefetch" href="/assets/color.html-6aa4d887.js" as="script"><link rel="prefetch" href="/assets/goutou.html-09cd2c29.js" as="script"><link rel="prefetch" href="/assets/qicai.html-925c104d.js" as="script"><link rel="prefetch" href="/assets/topic.html-ed012ad2.js" as="script"><link rel="prefetch" href="/assets/xingshang.html-c7726f3a.js" as="script"><link rel="prefetch" href="/assets/admin.html-70292601.js" as="script"><link rel="prefetch" href="/assets/dianping.html-8ed7a1d4.js" as="script"><link rel="prefetch" href="/assets/glsc.html-0ecfff5b.js" as="script"><link rel="prefetch" href="/assets/ruiji.html-ae655b93.js" as="script"><link rel="prefetch" href="/assets/sph.html-3fadb2db.js" as="script"><link rel="prefetch" href="/assets/understand.html-28ae162d.js" as="script"><link rel="prefetch" href="/assets/xczx.html-bde007a0.js" as="script"><link rel="prefetch" href="/assets/autogame.html-1f564d15.js" as="script"><link rel="prefetch" href="/assets/del.html-7d6cffb9.js" as="script"><link rel="prefetch" href="/assets/rename.html-cb627636.js" as="script"><link rel="prefetch" href="/assets/weixin.html-1d983c6f.js" as="script"><link rel="prefetch" href="/assets/zip.html-caddfe7f.js" as="script"><link rel="prefetch" href="/assets/5.html-59264824.js" as="script"><link rel="prefetch" href="/assets/plan.html-8a69790d.js" as="script"><link rel="prefetch" href="/assets/404.html-e8d8f53a.js" as="script"><link rel="prefetch" href="/assets/contribuing.html-fc7b6d64.js" as="script"><link rel="prefetch" href="/assets/index.html-0b4003c1.js" as="script"><link rel="prefetch" href="/assets/action.html-e9c6e625.js" as="script"><link rel="prefetch" href="/assets/find.html-529bcae7.js" as="script"><link rel="prefetch" href="/assets/like.html-177a8d52.js" as="script"><link rel="prefetch" href="/assets/note.html-5e1cabb5.js" as="script"><link rel="prefetch" href="/assets/plan.html-d7c826a3.js" as="script"><link rel="prefetch" href="/assets/custom.html-7a11d766.js" as="script"><link rel="prefetch" href="/assets/pra.html-de76cd99.js" as="script"><link rel="prefetch" href="/assets/index.html-a633805f.js" as="script"><link rel="prefetch" href="/assets/exception.html-76eec0dc.js" as="script"><link rel="prefetch" href="/assets/echo.html-83b80b17.js" as="script"><link rel="prefetch" href="/assets/music.html-517a44e3.js" as="script"><link rel="prefetch" href="/assets/pdf.html-10b5ea43.js" as="script"><link rel="prefetch" href="/assets/zhsh.html-d24f1944.js" as="script"><link rel="prefetch" href="/assets/html.html-824926d2.js" as="script"><link rel="prefetch" href="/assets/java.html-8d16edd0.js" as="script"><link rel="prefetch" href="/assets/mysql.html-a2e42b2c.js" as="script"><link rel="prefetch" href="/assets/tools.html-088a1c82.js" as="script"><link rel="prefetch" href="/assets/manhua.html-df8e5b49.js" as="script"><link rel="prefetch" href="/assets/zhsh.html-9c1316e0.js" as="script"><link rel="prefetch" href="/assets/piancai.html-f354f9d5.js" as="script"><link rel="prefetch" href="/assets/pianyin.html-b78d54ea.js" as="script"><link rel="prefetch" href="/assets/qisha.html-742ad22b.js" as="script"><link rel="prefetch" href="/assets/rizhu.html-5f468ad2.js" as="script"><link rel="prefetch" href="/assets/shangguan.html-1824a7cf.js" as="script"><link rel="prefetch" href="/assets/shensha.html-7d0d9ec1.js" as="script"><link rel="prefetch" href="/assets/shishen.html-f3884ac0.js" as="script"><link rel="prefetch" href="/assets/top.html-1d083ddb.js" as="script"><link rel="prefetch" href="/assets/zhengcai.html-3cc97ed2.js" as="script"><link rel="prefetch" href="/assets/zhengguan.html-3ddbb5dc.js" as="script"><link rel="prefetch" href="/assets/zhengyin.html-3af1a938.js" as="script"><link rel="prefetch" href="/assets/shell.html-e468c240.js" as="script"><link rel="prefetch" href="/assets/color.html-14b77665.js" as="script"><link rel="prefetch" href="/assets/goutou.html-d6f89a09.js" as="script"><link rel="prefetch" href="/assets/qicai.html-978c8243.js" as="script"><link rel="prefetch" href="/assets/topic.html-407b7f01.js" as="script"><link rel="prefetch" href="/assets/xingshang.html-7bd4a3ad.js" as="script"><link rel="prefetch" href="/assets/admin.html-cdde1307.js" as="script"><link rel="prefetch" href="/assets/dianping.html-6f1f4f45.js" as="script"><link rel="prefetch" href="/assets/glsc.html-e985cd41.js" as="script"><link rel="prefetch" href="/assets/ruiji.html-57a2674d.js" as="script"><link rel="prefetch" href="/assets/sph.html-6555fcec.js" as="script"><link rel="prefetch" href="/assets/understand.html-1334161a.js" as="script"><link rel="prefetch" href="/assets/xczx.html-d7fb461f.js" as="script"><link rel="prefetch" href="/assets/autogame.html-b02f338b.js" as="script"><link rel="prefetch" href="/assets/del.html-75ebdd62.js" as="script"><link rel="prefetch" href="/assets/rename.html-e95fca23.js" as="script"><link rel="prefetch" href="/assets/weixin.html-375d7095.js" as="script"><link rel="prefetch" href="/assets/zip.html-28dc7866.js" as="script"><link rel="prefetch" href="/assets/5.html-2da0fa41.js" as="script"><link rel="prefetch" href="/assets/plan.html-492b9e3c.js" as="script"><link rel="prefetch" href="/assets/404.html-7a3e3c82.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/" class=""><!----><span class="site-name">最爱吃炸鸡⭐️</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/html/pdf.md/" class="" aria-label="心得"><!--[--><!--]--> 心得 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/html/echo.md/" class="" aria-label="weecho"><!--[--><!--]--> weecho <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/html/zhsh.md/" class="" aria-label="纵横四海"><!--[--><!--]--> 纵横四海 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/shell.md/" class="" aria-label="shell自动化"><!--[--><!--]--> shell自动化 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java/mwxz/" class="" aria-label="美味小镇挂机"><!--[--><!--]--> 美味小镇挂机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/zhsh.md/" class="" aria-label="纵横四海刷怪"><!--[--><!--]--> 纵横四海刷怪 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/manhua.md/" class="" aria-label="漫画爬虫下载"><!--[--><!--]--> 漫画爬虫下载 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Python"><span class="title">Python</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Python"><span class="title">Python</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/python/del.md/" class="" aria-label="强制删除文件"><!--[--><!--]--> 强制删除文件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/autogame.md/" class="" aria-label="快速启动游戏"><!--[--><!--]--> 快速启动游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/weixin.md/" class="" aria-label="微信定时问候"><!--[--><!--]--> 微信定时问候 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/zip.md/" class="" aria-label="批量加密压缩"><!--[--><!--]--> 批量加密压缩 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/rename.md/" class="" aria-label="批量命名文件"><!--[--><!--]--> 批量命名文件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Demo"><span class="title">Demo</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Demo"><span class="title">Demo</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/htmlDemo/html.md/" class="" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/htmlDemo/mysql.md/" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/htmlDemo/tools.md/" class="" aria-label="tools"><!--[--><!--]--> tools <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/htmlDemo/java.md/" class="" aria-label="java"><!--[--><!--]--> java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/config/custom.md/" class="" aria-label="配置"><!--[--><!--]--> 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/exception/exception.md/" class="" aria-label="异常"><!--[--><!--]--> 异常 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/question/5.md/" class="" aria-label="问题"><!--[--><!--]--> 问题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/question/plan.md/" class="" aria-label="计划"><!--[--><!--]--> 计划 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Practice"><span class="title">Practice</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Practice"><span class="title">Practice</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/practice/admin.md/" class="" aria-label="管理系统"><!--[--><!--]--> 管理系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/ruiji.md/" class="" aria-label="瑞吉外卖"><!--[--><!--]--> 瑞吉外卖 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/dianping.md/" class="" aria-label="黑马点评"><!--[--><!--]--> 黑马点评 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/xczx.md/" class="" aria-label="学成在线"><!--[--><!--]--> 学成在线 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/sph.md/" class="" aria-label="尚品汇聚"><!--[--><!--]--> 尚品汇聚 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/glsc.md/" class="" aria-label="谷粒商城"><!--[--><!--]--> 谷粒商城 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/understand.md/" class="" aria-label="理解业务"><!--[--><!--]--> 理解业务 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="命理"><span class="title">命理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="命理"><span class="title">命理</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mingli/top.md/" class="" aria-label="总纲"><!--[--><!--]--> 总纲 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/shishen.md/" class="" aria-label="食神"><!--[--><!--]--> 食神 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/shangguan.md/" class="" aria-label="伤官"><!--[--><!--]--> 伤官 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/zhengyin.md/" class="" aria-label="正印"><!--[--><!--]--> 正印 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/pianyin.md/" class="" aria-label="偏印"><!--[--><!--]--> 偏印 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/zhengcai.md/" class="" aria-label="正财"><!--[--><!--]--> 正财 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/piancai.md/" class="" aria-label="偏财"><!--[--><!--]--> 偏财 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/rizhu.md/" class="" aria-label="日主"><!--[--><!--]--> 日主 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/shensha.md/" class="" aria-label="神煞"><!--[--><!--]--> 神煞 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="影视"><span class="title">影视</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="影视"><span class="title">影视</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/photo/goutou.md/" class="" aria-label="构图"><!--[--><!--]--> 构图 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/topic.md/" class="" aria-label="主题"><!--[--><!--]--> 主题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/qicai.md/" class="" aria-label="器材"><!--[--><!--]--> 器材 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/color.md/" class="" aria-label="色彩"><!--[--><!--]--> 色彩 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/xingshang.md/" class="" aria-label="鉴赏"><!--[--><!--]--> 鉴赏 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="烹饪"><span class="title">烹饪</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="烹饪"><span class="title">烹饪</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/book/find.md/" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/book/action.md/" class="" aria-label="加工"><!--[--><!--]--> 加工 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/book/like.md/" class="" aria-label="烹饪"><!--[--><!--]--> 烹饪 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/book/note.md/" class="" aria-label="调味"><!--[--><!--]--> 调味 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button class="toggle-color-mode-button" title="toggle color mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Web"><span class="title">Web</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Web"><span class="title">Web</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/html/pdf.md/" class="" aria-label="心得"><!--[--><!--]--> 心得 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/html/echo.md/" class="" aria-label="weecho"><!--[--><!--]--> weecho <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/html/zhsh.md/" class="" aria-label="纵横四海"><!--[--><!--]--> 纵横四海 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Linux"><span class="title">Linux</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Linux"><span class="title">Linux</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/linux/shell.md/" class="" aria-label="shell自动化"><!--[--><!--]--> shell自动化 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Java"><span class="title">Java</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Java"><span class="title">Java</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/java/mwxz/" class="" aria-label="美味小镇挂机"><!--[--><!--]--> 美味小镇挂机 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/zhsh.md/" class="" aria-label="纵横四海刷怪"><!--[--><!--]--> 纵横四海刷怪 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/java/manhua.md/" class="" aria-label="漫画爬虫下载"><!--[--><!--]--> 漫画爬虫下载 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Python"><span class="title">Python</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Python"><span class="title">Python</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/python/del.md/" class="" aria-label="强制删除文件"><!--[--><!--]--> 强制删除文件 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/autogame.md/" class="" aria-label="快速启动游戏"><!--[--><!--]--> 快速启动游戏 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/weixin.md/" class="" aria-label="微信定时问候"><!--[--><!--]--> 微信定时问候 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/zip.md/" class="" aria-label="批量加密压缩"><!--[--><!--]--> 批量加密压缩 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/python/rename.md/" class="" aria-label="批量命名文件"><!--[--><!--]--> 批量命名文件 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Demo"><span class="title">Demo</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Demo"><span class="title">Demo</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/htmlDemo/html.md/" class="" aria-label="html"><!--[--><!--]--> html <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/htmlDemo/mysql.md/" class="" aria-label="mysql"><!--[--><!--]--> mysql <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/htmlDemo/tools.md/" class="" aria-label="tools"><!--[--><!--]--> tools <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/htmlDemo/java.md/" class="" aria-label="java"><!--[--><!--]--> java <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/config/custom.md/" class="" aria-label="配置"><!--[--><!--]--> 配置 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/exception/exception.md/" class="" aria-label="异常"><!--[--><!--]--> 异常 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/question/5.md/" class="" aria-label="问题"><!--[--><!--]--> 问题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/question/plan.md/" class="" aria-label="计划"><!--[--><!--]--> 计划 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="Practice"><span class="title">Practice</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="Practice"><span class="title">Practice</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/practice/admin.md/" class="" aria-label="管理系统"><!--[--><!--]--> 管理系统 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/ruiji.md/" class="" aria-label="瑞吉外卖"><!--[--><!--]--> 瑞吉外卖 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/dianping.md/" class="" aria-label="黑马点评"><!--[--><!--]--> 黑马点评 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/xczx.md/" class="" aria-label="学成在线"><!--[--><!--]--> 学成在线 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/sph.md/" class="" aria-label="尚品汇聚"><!--[--><!--]--> 尚品汇聚 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/glsc.md/" class="" aria-label="谷粒商城"><!--[--><!--]--> 谷粒商城 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/practice/understand.md/" class="" aria-label="理解业务"><!--[--><!--]--> 理解业务 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="命理"><span class="title">命理</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="命理"><span class="title">命理</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/mingli/top.md/" class="" aria-label="总纲"><!--[--><!--]--> 总纲 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/shishen.md/" class="" aria-label="食神"><!--[--><!--]--> 食神 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/shangguan.md/" class="" aria-label="伤官"><!--[--><!--]--> 伤官 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/zhengyin.md/" class="" aria-label="正印"><!--[--><!--]--> 正印 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/pianyin.md/" class="" aria-label="偏印"><!--[--><!--]--> 偏印 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/zhengcai.md/" class="" aria-label="正财"><!--[--><!--]--> 正财 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/piancai.md/" class="" aria-label="偏财"><!--[--><!--]--> 偏财 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/rizhu.md/" class="" aria-label="日主"><!--[--><!--]--> 日主 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/mingli/shensha.md/" class="" aria-label="神煞"><!--[--><!--]--> 神煞 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="影视"><span class="title">影视</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="影视"><span class="title">影视</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/photo/goutou.md/" class="" aria-label="构图"><!--[--><!--]--> 构图 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/topic.md/" class="" aria-label="主题"><!--[--><!--]--> 主题 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/qicai.md/" class="" aria-label="器材"><!--[--><!--]--> 器材 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/color.md/" class="" aria-label="色彩"><!--[--><!--]--> 色彩 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/photo/xingshang.md/" class="" aria-label="鉴赏"><!--[--><!--]--> 鉴赏 <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-item"><div class="navbar-dropdown-wrapper"><button class="navbar-dropdown-title" type="button" aria-label="烹饪"><span class="title">烹饪</span><span class="arrow down"></span></button><button class="navbar-dropdown-title-mobile" type="button" aria-label="烹饪"><span class="title">烹饪</span><span class="right arrow"></span></button><ul style="display:none;" class="navbar-dropdown"><!--[--><li class="navbar-dropdown-item"><a href="/book/find.md/" class="" aria-label="基础"><!--[--><!--]--> 基础 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/book/action.md/" class="" aria-label="加工"><!--[--><!--]--> 加工 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/book/like.md/" class="" aria-label="烹饪"><!--[--><!--]--> 烹饪 <!--[--><!--]--></a></li><li class="navbar-dropdown-item"><a href="/book/note.md/" class="" aria-label="调味"><!--[--><!--]--> 调味 <!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/mwxz.html#美味小镇" class="router-link-active router-link-exact-active sidebar-item" aria-label="美味小镇"><!--[--><!--]--> 美味小镇 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/mwxz.html#获取油量" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取油量"><!--[--><!--]--> 获取油量 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#获取体力" class="router-link-active router-link-exact-active sidebar-item" aria-label="获取体力"><!--[--><!--]--> 获取体力 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#返回前端" class="router-link-active router-link-exact-active sidebar-item" aria-label="返回前端"><!--[--><!--]--> 返回前端 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#自动加油" class="router-link-active router-link-exact-active sidebar-item" aria-label="自动加油"><!--[--><!--]--> 自动加油 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#自动买菜" class="router-link-active router-link-exact-active sidebar-item" aria-label="自动买菜"><!--[--><!--]--> 自动买菜 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#自动蟑螂" class="router-link-active router-link-exact-active sidebar-item" aria-label="自动蟑螂"><!--[--><!--]--> 自动蟑螂 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#自动吃饭" class="router-link-active router-link-exact-active sidebar-item" aria-label="自动吃饭"><!--[--><!--]--> 自动吃饭 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#每日任务" class="router-link-active router-link-exact-active sidebar-item" aria-label="每日任务"><!--[--><!--]--> 每日任务 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/java/mwxz.html#bug记录" class="router-link-active router-link-exact-active sidebar-item" aria-label="bug记录"><!--[--><!--]--> bug记录 <!--[--><!--]--></a><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/java/mwxz.html#无法匹配" class="router-link-active router-link-exact-active sidebar-item" aria-label="无法匹配"><!--[--><!--]--> 无法匹配 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#io异常" class="router-link-active router-link-exact-active sidebar-item" aria-label="io异常"><!--[--><!--]--> io异常 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#主键冲突" class="router-link-active router-link-exact-active sidebar-item" aria-label="主键冲突"><!--[--><!--]--> 主键冲突 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/java/mwxz.html#非法参数" class="router-link-active router-link-exact-active sidebar-item" aria-label="非法参数"><!--[--><!--]--> 非法参数 <!--[--><!--]--></a><!----></li><!--]--></ul></li><li><a aria-current="page" href="/java/mwxz.html#后续任务" class="router-link-active router-link-exact-active sidebar-item" aria-label="后续任务"><!--[--><!--]--> 后续任务 <!--[--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><!--]--><div><h2 id="美味小镇" tabindex="-1"><a class="header-anchor" href="#美味小镇" aria-hidden="true">#</a> 美味小镇</h2><nav class="table-of-contents"><ul><li><a aria-current="page" href="/java/mwxz.html#美味小镇" class="router-link-active router-link-exact-active">美味小镇</a><ul><li><a aria-current="page" href="/java/mwxz.html#获取油量" class="router-link-active router-link-exact-active">获取油量</a></li><li><a aria-current="page" href="/java/mwxz.html#获取体力" class="router-link-active router-link-exact-active">获取体力</a></li><li><a aria-current="page" href="/java/mwxz.html#返回前端" class="router-link-active router-link-exact-active">返回前端</a></li><li><a aria-current="page" href="/java/mwxz.html#自动加油" class="router-link-active router-link-exact-active">自动加油</a></li><li><a aria-current="page" href="/java/mwxz.html#自动买菜" class="router-link-active router-link-exact-active">自动买菜</a></li><li><a aria-current="page" href="/java/mwxz.html#自动蟑螂" class="router-link-active router-link-exact-active">自动蟑螂</a></li><li><a aria-current="page" href="/java/mwxz.html#自动吃饭" class="router-link-active router-link-exact-active">自动吃饭</a></li><li><a aria-current="page" href="/java/mwxz.html#每日任务" class="router-link-active router-link-exact-active">每日任务</a></li></ul></li><li><a aria-current="page" href="/java/mwxz.html#bug记录" class="router-link-active router-link-exact-active">bug记录</a><ul><li><a aria-current="page" href="/java/mwxz.html#无法匹配" class="router-link-active router-link-exact-active">无法匹配</a></li><li><a aria-current="page" href="/java/mwxz.html#io异常" class="router-link-active router-link-exact-active">io异常</a></li><li><a aria-current="page" href="/java/mwxz.html#主键冲突" class="router-link-active router-link-exact-active">主键冲突</a></li><li><a aria-current="page" href="/java/mwxz.html#非法参数" class="router-link-active router-link-exact-active">非法参数</a></li></ul></li><li><a aria-current="page" href="/java/mwxz.html#后续任务" class="router-link-active router-link-exact-active">后续任务</a></li></ul></nav><div class="custom-container tip"><p class="custom-container-title">分析</p><p>通过抓包发现，添是一个<strong>无参的post请求</strong>。 设置Cookies定时访问就行了。</p></div><h3 id="获取油量" tabindex="-1"><a class="header-anchor" href="#获取油量" aria-hidden="true">#</a> 获取油量</h3><div class="custom-container tip"><p class="custom-container-title">访问首页正则油量，需要注意marcher.find()方法只会 查找一次，匹配两个可能有个为null。保险点嵌套匹配或者写两次。并且使用的是 捕获组 。构造对象set属性，然后返回就ok。</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">Mwxz</span> <span class="token class-name">Saveoil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>


        <span class="token comment">//封包</span>
        <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com/mxxz&quot;</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=e98ae3a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">//请求首页</span>
        <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> home <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Mwxz</span> mwxz <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Mwxz</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>home <span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">//匹配油量</span>
        <span class="token class-name">Matcher</span> resultOil <span class="token operator">=</span> <span class="token class-name">Pattern</span>
                            <span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;油壶&lt;/a&gt;：(\\d+)|金币&lt;/a&gt;：(\\d+)&quot;</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>home<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>resultOil<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Integer</span> oil <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>resultOil<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            mwxz<span class="token punctuation">.</span><span class="token function">setOil</span><span class="token punctuation">(</span>oil<span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>resultOil<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Integer</span> gold <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>resultOil<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                mwxz<span class="token punctuation">.</span><span class="token function">setGold</span><span class="token punctuation">(</span>gold<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

            mwxz<span class="token punctuation">.</span><span class="token function">setDate</span><span class="token punctuation">(</span><span class="token class-name">TimeUtils</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">save</span><span class="token punctuation">(</span>mwxz<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;未匹配到金币油量&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;小镇服务器异常，未返回到响应体&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="获取体力" tabindex="-1"><a class="header-anchor" href="#获取体力" aria-hidden="true">#</a> 获取体力</h3><div class="custom-container tip"><p class="custom-container-title">分析</p><p>访问，然后使用 <strong>节点选择器</strong>，选择文本</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">energy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//封包</span>
       <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com&quot;</span><span class="token punctuation">)</span>
                       <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=ebceb3a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token class-name">String</span> text <span class="token operator">=</span> <span class="token class-name">Jsoup</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span>
                     <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/mxxz/energy_card&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                     <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;#current_energy&quot;</span><span class="token punctuation">)</span>
                     <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>text<span class="token punctuation">.</span><span class="token function">isEmpty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token punctuation">}</span>
       <span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="返回前端" tabindex="-1"><a class="header-anchor" href="#返回前端" aria-hidden="true">#</a> 返回前端</h3><div class="custom-container tip"><p class="custom-container-title">分析</p><p>DTO对象返回前端</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/all&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MwxzDto</span><span class="token punctuation">&gt;</span></span> <span class="token function">queryGame</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//只返回必要的信息</span>
        <span class="token class-name">MwxzDto</span> mwxzDto <span class="token operator">=</span> <span class="token class-name">BeanUtil</span><span class="token punctuation">.</span><span class="token function">toBean</span><span class="token punctuation">(</span>mwxz<span class="token punctuation">.</span><span class="token function">queryOil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">MwxzDto</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token class-name">R</span><span class="token punctuation">.</span><span class="token function">success</span><span class="token punctuation">(</span><span class="token string">&quot;查询成功&quot;</span><span class="token punctuation">,</span>mwxzDto<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动加油" tabindex="-1"><a class="header-anchor" href="#自动加油" aria-hidden="true">#</a> 自动加油</h3><ul><li>封包基本网址与<em><strong>cookies</strong></em></li><li>post提交，执行ajax请求0</li><li>if判断响应包含“请求成功”，则返回成功（true），否返回false</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">addOil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//忽略ssl</span>
        <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//封包</span>
        <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com/mxxz&quot;</span><span class="token punctuation">)</span>
                        <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=e2bcebb2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">//请求添油</span>
           add <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/addFullOil&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

           <span class="token comment">//有数据则跳出</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>add<span class="token operator">!=</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
               <span class="token keyword">break</span><span class="token punctuation">;</span>
           <span class="token punctuation">}</span>
            <span class="token comment">//没有数据则休眠5秒再请求，避免服务器的异常</span>
            <span class="token keyword">try</span> <span class="token punctuation">{</span>
                <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">5000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">RuntimeException</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> add<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;请求成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>



</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>然后添加到定时任务</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@Slf4j</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AutoAddOil</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">int</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">MwxzService</span> mwxz<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Scheduled</span><span class="token punctuation">(</span>cron <span class="token operator">=</span> <span class="token string">&quot;0 0/30 * * * ? &quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addOil</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Boolean</span> state <span class="token operator">=</span> mwxz<span class="token punctuation">.</span><span class="token function">addOil</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        count<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;第{}次加油&quot;</span><span class="token punctuation">,</span> count<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;定时任务执行中，但却失败了，因为addOil返回了false。&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="另外有python版本-采用的是死循环加进程休眠" tabindex="-1"><a class="header-anchor" href="#另外有python版本-采用的是死循环加进程休眠" aria-hidden="true">#</a> 另外有python版本,采用的是死循环加进程休眠</h4><div class="language-python line-numbers-mode" data-ext="py"><pre class="language-python"><code><span class="token keyword">import</span> requests
<span class="token keyword">import</span> urllib3
<span class="token keyword">import</span> random
<span class="token keyword">import</span> time
<span class="token keyword">import</span> re  <span class="token comment"># 正则包</span>
<span class="token keyword">from</span> _datetime <span class="token keyword">import</span> datetime

<span class="token comment"># 忽略证书警告</span>
urllib3<span class="token punctuation">.</span>disable_warnings<span class="token punctuation">(</span><span class="token punctuation">)</span>

count <span class="token operator">=</span> <span class="token number">0</span>

headers <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">&#39;user-agent&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/110.0.0.0 &#39;</span>
                  <span class="token string">&#39;Safari/537.36 Edg/110.0.1587.41&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;Cookie&#39;</span><span class="token punctuation">:</span> <span class="token string">&#39;cache=ebcebb2e23389a192bbf87b04c98ae3a&#39;</span>
<span class="token punctuation">}</span>

<span class="token keyword">while</span> <span class="token boolean">True</span><span class="token punctuation">:</span>
    r <span class="token operator">=</span> requests<span class="token punctuation">.</span>get<span class="token punctuation">(</span><span class="token string">&#39;https://dream233.com/mxxz/&#39;</span><span class="token punctuation">,</span> verify<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>

    pattern <span class="token operator">=</span> re<span class="token punctuation">.</span><span class="token builtin">compile</span><span class="token punctuation">(</span><span class="token string">&#39;(?&lt;=：)\d{4,}&#39;</span><span class="token punctuation">,</span> re<span class="token punctuation">.</span>S<span class="token punctuation">)</span>

    <span class="token comment"># 提取标题</span>
    oil <span class="token operator">=</span> re<span class="token punctuation">.</span>findall<span class="token punctuation">(</span>pattern<span class="token punctuation">,</span> r<span class="token punctuation">.</span>text<span class="token punctuation">)</span>

    timeNow <span class="token operator">=</span> datetime<span class="token punctuation">.</span>now<span class="token punctuation">(</span><span class="token punctuation">)</span>
    formatTime <span class="token operator">=</span> timeNow<span class="token punctuation">.</span>strftime<span class="token punctuation">(</span><span class="token string">&quot;%Y-%m-%d %H:%M:%S&quot;</span><span class="token punctuation">)</span>

    wait_time <span class="token operator">=</span> random<span class="token punctuation">.</span>randint<span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token number">360</span><span class="token punctuation">)</span>
    p <span class="token operator">=</span> requests<span class="token punctuation">.</span>post<span class="token punctuation">(</span><span class="token string">&#39;https://dream233.com/mxxz/addFullOil&#39;</span><span class="token punctuation">,</span> verify<span class="token operator">=</span><span class="token boolean">False</span><span class="token punctuation">,</span> headers<span class="token operator">=</span>headers<span class="token punctuation">)</span>
    count <span class="token operator">=</span> count <span class="token operator">+</span> <span class="token number">1</span>
    <span class="token keyword">with</span> <span class="token builtin">open</span><span class="token punctuation">(</span><span class="token string">&quot;../output.txt&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> encoding<span class="token operator">=</span><span class="token string">&quot;utf-8&quot;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> f<span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string-interpolation"><span class="token string">f&#39;当前油量：</span><span class="token interpolation"><span class="token punctuation">{</span>oil<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span><span class="token string">,\n已经加油</span><span class="token interpolation"><span class="token punctuation">{</span>count<span class="token punctuation">}</span></span><span class="token string">次,下次间隔</span><span class="token interpolation"><span class="token punctuation">{</span>wait_time<span class="token punctuation">}</span></span><span class="token string">秒,当前时间</span><span class="token interpolation"><span class="token punctuation">{</span>formatTime<span class="token punctuation">}</span></span><span class="token string">\n&#39;</span></span><span class="token punctuation">,</span> <span class="token builtin">file</span><span class="token operator">=</span>f<span class="token punctuation">)</span>
    time<span class="token punctuation">.</span>sleep<span class="token punctuation">(</span>wait_time<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动买菜" tabindex="-1"><a class="header-anchor" href="#自动买菜" aria-hidden="true">#</a> 自动买菜</h3><ul><li>封包基本网址与<em><strong>cookies</strong></em></li><li>正则提取菜数据,存入集合</li><li>用if确保null时不会出现数组越界</li><li>post提交，执行ajax请求</li><li>加入定时任务</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">buy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> dish<span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//忽略ssl</span>
        <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//封包</span>
        <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com/mxxz&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=ebcebb2e23389a192bbf87b04c98ae3a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span>
                <span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;\\(&amp;quot;(\\d+)&amp;quot;,\\d\\)&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/market&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                         <span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            dish<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>matcher<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>dish<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">&gt;</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>dish<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">==</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token class-name">Integer</span> <span class="token class-name">DishOne</span><span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>dish<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> foodId <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/buyDiscountFood&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;foodId&quot;</span><span class="token punctuation">,</span> <span class="token class-name">DishOne</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>foodId<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
                <span class="token class-name">Integer</span> <span class="token class-name">DishOne</span><span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>dish<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> foodId <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/buyDiscountFood&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;foodId&quot;</span><span class="token punctuation">,</span> <span class="token class-name">DishOne</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">Integer</span> <span class="token class-name">DishTwo</span><span class="token operator">=</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>dish<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> foodIdTwo <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/buyDiscountFood&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;foodId&quot;</span><span class="token punctuation">,</span> <span class="token class-name">DishTwo</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>foodId<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>foodIdTwo<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">46</span><span class="token punctuation">,</span><span class="token number">54</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;当前没菜&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="定时任务也可以提一下" tabindex="-1"><a class="header-anchor" href="#定时任务也可以提一下" aria-hidden="true">#</a> 定时任务也可以提一下</h4><div class="custom-container tip"><p class="custom-container-title">定时任务 0 1 6-23 * * ?</p><ul><li>-是区间</li><li>/是间隔</li><li>单个数字是指定</li><li>*是所有时间</li></ul></div><h4 id="_2023-6-2-失效重新编码" tabindex="-1"><a class="header-anchor" href="#_2023-6-2-失效重新编码" aria-hidden="true">#</a> 2023.6.2 失效重新编码</h4><div class="custom-container tip"><p class="custom-container-title">分析</p><p>原来的正则不够完美，使用新的正则。</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Matcher</span> matcher <span class="token operator">=</span> <span class="token class-name">Pattern</span>
                <span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;buyDiscountFood\\(&amp;quot;(\\d+)&amp;quot;\\)&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/market&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                         <span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动蟑螂" tabindex="-1"><a class="header-anchor" href="#自动蟑螂" aria-hidden="true">#</a> 自动蟑螂</h3><div class="custom-container tip"><p class="custom-container-title">分析</p><p>这个比较复杂。请看下边流程</p></div><ul><li>爬取列表页，通过imp图标确定有蟑螂的饭店</li><li>定时判断体力是否足够，</li><li>足够打蟑螂，不足够退出</li><li>正则获取蟑螂位置，<em><strong>封装成对象转成map提交</strong></em> post</li><li>其他层和第一层的区别，进入饭店后。如果<em><strong>list集合为空</strong></em>。则获取其他楼的链接再次匹配蟑螂</li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">kill</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>


    <span class="token comment">//封包</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com&quot;</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cacha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token comment">//请求好友页</span>
    <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> friend <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/mxxz/friend_0_1&quot;</span><span class="token punctuation">)</span>
                                         <span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//匹配页数</span>
    <span class="token class-name">Matcher</span> resultPage <span class="token operator">=</span> <span class="token class-name">Pattern</span>
                          <span class="token punctuation">.</span><span class="token function">compile</span><span class="token punctuation">(</span><span class="token string">&quot;第\\d+/(\\d+)页&quot;</span><span class="token punctuation">)</span>
                          <span class="token punctuation">.</span><span class="token function">matcher</span><span class="token punctuation">(</span>friend<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>resultPage<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        page <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>resultPage<span class="token punctuation">.</span><span class="token function">group</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> page<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> energy <span class="token operator">=</span> <span class="token function">energy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>energy <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;体力不足，请先补充体力&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

    <span class="token comment">//请求每页</span>
    <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> echoPage <span class="token operator">=</span> <span class="token class-name">Unirest</span>
                                   <span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/mxxz/friend&quot;</span> <span class="token operator">+</span> <span class="token string">&quot;_0_&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">)</span>
                                   <span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//匹配有蟑螂页</span>

    <span class="token comment">//获得蟑螂列表饭店名单</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list <span class="token operator">=</span> <span class="token class-name">Jsoup</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>echoPage
     <span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eachAttr</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">if</span> <span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;层很干净&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;第&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;层的蟑螂&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> s <span class="token operator">:</span> list<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token comment">//截取饭店名称</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> s1 <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


        <span class="token comment">//第一层蟑螂</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list1 <span class="token operator">=</span> <span class="token class-name">Jsoup</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;a:contains(蟑螂)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eachAttr</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list1<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

            <span class="token comment">//清理第一层</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> res <span class="token operator">:</span> list1<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">String</span> <span class="token class-name">Xyz</span> <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;.*\\((\\d+)\\).*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject killObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">killObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject<span class="token punctuation">.</span><span class="token function">setByRestaurantId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject<span class="token punctuation">.</span><span class="token function">setFloor</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject<span class="token punctuation">.</span><span class="token function">setCockroachXyz</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token class-name">Xyz</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> stringObjectMap <span class="token operator">=</span> <span class="token class-name">BeanUtil</span><span class="token punctuation">.</span><span class="token function">beanToMap</span><span class="token punctuation">(</span>killObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JsonNode</span><span class="token punctuation">&gt;</span></span> body <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/mxxz/killCockroach&quot;</span><span class="token punctuation">)</span>
                                                     <span class="token punctuation">.</span><span class="token function">fields</span><span class="token punctuation">(</span>stringObjectMap<span class="token punctuation">)</span>
                                                     <span class="token punctuation">.</span><span class="token function">asJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>body<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;9100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;清理第一楼成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>

            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

            <span class="token comment">//看第一层还有没有</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list3 <span class="token operator">=</span> <span class="token class-name">Jsoup</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                  <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;a:contains(蟑螂)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eachAttr</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">//没有就清理其他层</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list3<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">Element</span> attr <span class="token operator">=</span> <span class="token class-name">Jsoup</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>s<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                                <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;img&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> attrs <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>attr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token class-name">Element</span> href <span class="token operator">=</span> attr<span class="token punctuation">.</span><span class="token function">previousElementSibling</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>href <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    attrs <span class="token operator">=</span> href<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>


            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> list2 <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newfloor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>attrs <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                newfloor <span class="token operator">=</span> attrs<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">17</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;_&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                list2 <span class="token operator">=</span> <span class="token class-name">Jsoup</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span><span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>attrs<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                             <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token string">&quot;a:contains(蟑螂)&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eachAttr</span><span class="token punctuation">(</span><span class="token string">&quot;onclick&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>



        <span class="token keyword">if</span> <span class="token punctuation">(</span>list2 <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> list2<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;其他楼蟑螂位置&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>list2<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>list2 <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> res <span class="token operator">:</span> list2<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//    截取位置数字</span>
                <span class="token class-name">String</span> xyz <span class="token operator">=</span> res<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">13</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceAll</span><span class="token punctuation">(</span><span class="token string">&quot;.*\\((\\d+)\\).*&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                killObject killObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token function">killObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject<span class="token punctuation">.</span><span class="token function">setByRestaurantId</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>s1<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject<span class="token punctuation">.</span><span class="token function">setFloor</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>newfloor<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                killObject<span class="token punctuation">.</span><span class="token function">setCockroachXyz</span><span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token function">parseInt</span><span class="token punctuation">(</span>xyz<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span></span> stringObjectMap <span class="token operator">=</span> <span class="token class-name">BeanUtil</span><span class="token punctuation">.</span><span class="token function">beanToMap</span><span class="token punctuation">(</span>killObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">JsonNode</span><span class="token punctuation">&gt;</span></span> body <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/mxxz/killCockroach&quot;</span><span class="token punctuation">)</span>
                                                     <span class="token punctuation">.</span><span class="token function">fields</span><span class="token punctuation">(</span>stringObjectMap<span class="token punctuation">)</span>
                                                     <span class="token punctuation">.</span><span class="token function">asJson</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token keyword">if</span> <span class="token punctuation">(</span>body<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">&quot;9100&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;清理其他楼成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>


            <span class="token punctuation">}</span>

        <span class="token punctuation">}</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;清理第&quot;</span> <span class="token operator">+</span> i <span class="token operator">+</span> <span class="token string">&quot;层成功！&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前体力&quot;</span> <span class="token operator">+</span> <span class="token function">energy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;----------------------------&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">energy</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;体力不足&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="自动吃饭" tabindex="-1"><a class="header-anchor" href="#自动吃饭" aria-hidden="true">#</a> 自动吃饭</h3><div class="custom-container tip"><p class="custom-container-title">吃饭请求的参数是1，2，3，用if判断时间区间，定时任务执行就可以，</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">eat</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">LocalTime</span> now <span class="token operator">=</span> <span class="token class-name">LocalTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> hour <span class="token operator">=</span> now<span class="token punctuation">.</span><span class="token function">getHour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">int</span> index<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>

    <span class="token comment">//忽略ssl</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//封包</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com/mxxz&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=ebcebb2e23389a192bbf87b04c98ae3a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">if</span> <span class="token punctuation">(</span>hour<span class="token operator">&gt;</span><span class="token number">7</span> <span class="token operator">&amp;&amp;</span> hour<span class="token operator">&lt;</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> index1 <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/getActivityEnergy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;吃早饭成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>hour<span class="token operator">&gt;</span><span class="token number">12</span> <span class="token operator">&amp;&amp;</span> hour<span class="token operator">&lt;</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        index<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> index1 <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/getActivityEnergy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;吃午饭成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>hour<span class="token operator">&gt;</span><span class="token number">18</span> <span class="token operator">&amp;&amp;</span> hour<span class="token operator">&lt;</span><span class="token number">21</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        index<span class="token operator">=</span><span class="token number">3</span><span class="token punctuation">;</span>
        <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> index1 <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/getActivityEnergy&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">,</span> index<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;吃晚饭成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;还没有到吃饭时间&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>实测发现早上的饭没发吃，怀疑是定时任务的原因。</li><li>linux是每天8点启动的，就无法在7.01时吃饭，综合评估，改为从8点开始更好</li></ul><h3 id="每日任务" tabindex="-1"><a class="header-anchor" href="#每日任务" aria-hidden="true">#</a> 每日任务</h3><div class="custom-container tip"><p class="custom-container-title">很简单，直接请求，太麻烦就不给返回值确认了</p></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//每日许愿</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">wish</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">//忽略ssl</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//封包</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com/mxxz&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=ebcebb2e23389a192bbf87b04c98ae3a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span>i<span class="token operator">&lt;</span><span class="token number">4</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> wish <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/makeWish&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">field</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;许愿成功&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

<span class="token comment">//每日签到</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">sign</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">verifySsl</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//封包</span>
    <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">config</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">defaultBaseUrl</span><span class="token punctuation">(</span><span class="token string">&quot;https://dream233.com/mxxz&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">.</span><span class="token function">addDefaultCookie</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Cookie</span><span class="token punctuation">(</span><span class="token string">&quot;cache=ebcebb2e23389a192bbf87b04c98ae3a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">HttpResponse</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> sign <span class="token operator">=</span> <span class="token class-name">Unirest</span><span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">&quot;/sign_in&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">asString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>sign<span class="token punctuation">.</span><span class="token function">getBody</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="bug记录" tabindex="-1"><a class="header-anchor" href="#bug记录" aria-hidden="true">#</a> bug记录</h2><div class="custom-container warning"><p class="custom-container-title">现存bug</p></div><h3 id="无法匹配" tabindex="-1"><a class="header-anchor" href="#无法匹配" aria-hidden="true">#</a> 无法匹配</h3><ul><li><p>莫名其妙会匹配不到，怀疑是系统服务器,加入循环不断请求 <em><strong>已测试无用</strong></em></p></li><li><p>循环获取也不行，打印请求体看看，到底是正则还是请求体的问题。 <em><strong>排查都有问题</strong></em></p></li><li><p>也有可能是cookies的问题，据说tomcat曾经优化过 <em><strong>暂时不解决</strong></em></p></li><li><p>macher.find貌似只会匹配一次，需要内部匹配，不然就是null。 <em><strong>已解决</strong></em></p></li><li><p>多次测试发现应该是服务器的限制，尝试定时重启java进程试试 <em><strong>已解决</strong></em></p></li></ul><h3 id="io异常" tabindex="-1"><a class="header-anchor" href="#io异常" aria-hidden="true">#</a> io异常</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span>IOException</span><span class="token operator">:</span> <span class="token class-name">Connection</span> reset by peer
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>暂时没想到解决办法</li></ul><h3 id="主键冲突" tabindex="-1"><a class="header-anchor" href="#主键冲突" aria-hidden="true">#</a> 主键冲突</h3><ul><li>应该是mysql自增长的主键冲突，下一个主键更大或相同冲突了，</li><li><em><strong>删除该条数据</strong></em> 或者 <em><strong>重置主键序数</strong></em></li></ul><h3 id="非法参数" tabindex="-1"><a class="header-anchor" href="#非法参数" aria-hidden="true">#</a> 非法参数</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">IllegalArgumentException</span><span class="token operator">:</span> <span class="token constant">HTTP</span> method names must be tokens
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>怀疑是 <em><strong>忽略http</strong></em> 影响的。但是安装证书太麻烦了。</li></ul><h2 id="后续任务" tabindex="-1"><a class="header-anchor" href="#后续任务" aria-hidden="true">#</a> 后续任务</h2><ul><li><p>将所有接口暴露到我的网站上，并展示。</p></li><li><p>定时吃饭， <strong>抢菜</strong> 和做日常任务。（已完成抢菜）</p></li></ul></div><!--[--><!--]--></div><footer class="page-meta"><!----><!----><!----></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/assets/app-58ca2cdc.js" defer></script>
  </body>
</html>
